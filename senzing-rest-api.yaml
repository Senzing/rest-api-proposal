openapi: 3.0.1
info:
  title: Senzing REST API
  version: "1.5.2"
  description: >-
    This is the Senzing REST API.  It describes the REST interface
    to Senzing API functions available via REST.  It leverages the
    Senzing native API which is documented at
    [https://docs.senzing.com](https://docs.senzing.com)
paths:
  /heartbeat:
    get:
      tags:
        - Admin
      summary: >-
        Gets a heartbeat from the server to make sure it is up and
        running.  The response will include the current timestamp.
      operationId: heartbeat
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzBaseResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzBaseResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzBaseResponse'
  /license:
    get:
      tags:
        - Admin
      summary: Get the license information.
      operationId: license
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzLicenseResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzLicenseResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzLicenseResponse'
  /attribute-types:
    get:
      tags:
        - Config
      summary: Get a list of configured attribute types.
      operationId: getAttributeTypes
      parameters:
        - name: withInternal
          description: >-
            The load ID to associate with the loaded record.
          in: query
          required: false
          schema:
            type: boolean
            default: false
        - name: attributeClass
          description: >-
            If specified, this filters the list of returned attribute types
            to those of a specific attribute class.  If not specified then no
            filtering on attribute class is performed and all are returned.
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/SzAttributeClass'
        - name: featureType
          description: >-
            If specified, this filters the list of returned attribute types
            to those belonging to a specific feature type.  If not specified
            then no filtering on feature type is performed and all are returned.
          in: query
          required: false
          schema:
            type: string
            default: null
        - $ref: '#/components/parameters/withRawQueryParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzAttributeTypesResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzAttributeTypesResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzAttributeTypesResponse'
        '500':
          $ref: '#/components/responses/ServerError'
  /attribute-types/{attributeCode}:
    get:
      tags:
        - Config
      summary: Get the attribute type identified by the attribute code.
      operationId: getAttributeType
      parameters:
        - name: attributeCode
          description: >-
            The attribute code that uniquely identifies the attribute type.
          in: path
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/withRawQueryParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzAttributeTypeResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzAttributeTypeResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzAttributeTypeResponse'
        '404':
          description: >-
            If the specified attribute code is not recognized.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '500':
          $ref: '#/components/responses/ServerError'
  /data-sources:
    get:
      tags:
        - Config
      summary: Get a list of configured data sources.
      operationId: listDataSources
      parameters:
        - $ref: '#/components/parameters/withRawQueryParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzDataSourcesResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzDataSourcesResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzDataSourcesResponse'
        '500':
          $ref: '#/components/responses/ServerError'
  /data-sources/{dataSourceCode}/records:
    post:
      tags:
        - Entity Data
      summary: Load a new record in
      operationId: addRecordWithReturnedRecordId
      parameters:
        - $ref: '#/components/parameters/dataSourceCodePathParam'
        - name: loadId
          description: >-
            The load ID to associate with the loaded record.
          in: query
          required: false
          schema:
            type: string
      requestBody:
        description: >-
          The record data as JSON.  The format of the JSON is described
          by the [Senzing Generic Entity Specification](https://senzing.zendesk.com/hc/en-us/articles/231925448-Generic-Entity-Specification).
          The specified JSON may include or exclude the DATA_SOURCE field.
          It will be added if excluded.  If included, it must match the
          data source code in the path parameters.
        required: true
        content:
          application/json; charset=UTF-8:
            schema:
              type: object
              additionalProperties: {}
          application/json:
            schema:
              type: object
              additionalProperties: {}
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzLoadRecordResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzLoadRecordResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzLoadRecordResponse'
        '400':
          description: >-
            If the specified data contains a DATA_SOURCE field that is not
            consistent with the dataSourceCode in the path of the request
            or if the specified content body is not formatted as JSON.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '404':
          description: >-
            If the specified data source code in the path is not recognized.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '500':
          $ref: '#/components/responses/ServerError'
  /data-sources/{dataSourceCode}/records/{recordId}:
    get:
      tags:
        - Entity Data
      summary: Get an entity record by data source and record ID.
      operationId: getDataSourceRecord
      parameters:
        - $ref: '#/components/parameters/dataSourceCodePathParam'
        - $ref: '#/components/parameters/recordIdPathParam'
        - $ref: '#/components/parameters/withRawQueryParam'
      responses:
        '200':
          description: Successul response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzRecordResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzRecordResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzRecordResponse'
        '404':
          description: If data source or record ID are not found.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '500':
          $ref: '#/components/responses/ServerError'
    put:
      tags:
        - Entity Data
      summary: >-
        Load a new record or replace a record in a data source with a
        specific record ID.
      operationId: addRecord
      parameters:
        - $ref: '#/components/parameters/dataSourceCodePathParam'
        - $ref: '#/components/parameters/recordIdPathParam'
        - name: loadId
          description: >-
            The load ID to associate with the loaded record.
          in: query
          required: false
          schema:
            type: string
      requestBody:
        description: >-
          The record data as JSON.  The format of the JSON is described
          by the [Senzing Generic Entity Specification](https://senzing.zendesk.com/hc/en-us/articles/231925448-Generic-Entity-Specification).
          The specified JSON may include or exclude the DATA_SOURCE and
          RECORD_ID fields.  Any excluded field will be added to the JSON
          accordingly.  Any included field in the JSON, must match the
          respective path parameter for data source code or record ID.
        required: true
        content:
          application/json; charset=UTF-8:
            schema:
              type: object
              additionalProperties: {}
          application/json:
            schema:
              type: object
              additionalProperties: {}
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzLoadRecordResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzLoadRecordResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzLoadRecordResponse'
        '400':
          description: >-
            If the specified data contains a DATA_SOURCE field that is not
            consistent with the dataSourceCode in the path of the request
            or if the specified content body is not formatted as JSON.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '404':
          description: >-
            If the specified data source code in the path is not recognized.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '500':
          $ref: '#/components/responses/ServerError'
  /entities/{entityId}:
    get:
      tags:
        - Entity Data
      summary: Get a resolved entity by entity ID.
      operationId: getEntityByEntityId
      parameters:
      - name: entityId
        description: >-
          The unique numeric ID that identifies that entity being requested.
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - $ref: '#/components/parameters/withRelatedQueryParam'
      - $ref: '#/components/parameters/withRawQueryParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzEntityResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzEntityResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzEntityResponse'
        '404':
          description: If the entity ID is not found.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '500':
          $ref: '#/components/responses/ServerError'
  /data-sources/{dataSourceCode}/records/{recordId}/entity:
    get:
      tags:
        - Entity Data
      summary: Get a resolved entity by data source and record ID.
      operationId: getEntityByRecordId
      parameters:
        - $ref: '#/components/parameters/dataSourceCodePathParam'
        - $ref: '#/components/parameters/recordIdPathParam'
        - $ref: '#/components/parameters/withRelatedQueryParam'
        - $ref: '#/components/parameters/withRawQueryParam'
      responses:
        '200':
          description: default response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzEntityResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzEntityResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzEntityResponse'
        '404':
          description: If data source or record ID are not found.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '500':
          $ref: '#/components/responses/ServerError'
  /entities:
    get:
      tags:
        - Entity Data
      summary: >-
        Search for entities that would match or relate to the provided
        entity features.
      operationId: searchByAttributes
      parameters:
      - name: attrs
        description: >-
          The record JSON describing the entity attributes in the same
          format as how an entity record would be loaded.  The specified
          attributes will be treated as a hypothetical record being loaded
          and the result will be anything that would have matched or related
          to it.
        in: query
        required: true
        schema:
          type: object
          additionalProperties: {}
        example: >-
          {
            "NAME_TYPE": "PRIMARY",
            "NAME_FIRST": "JANE",
            "NAME_LAST": "SMITH",
            "ADDR_TYPE": "HOME",
            "ADDR_LINE1": "653 STATE ROUTE 7",
            "ADDR_CITY": "FRESNO",
            "ADDR_STATE": "CA",
            "ADDR_POSTAL_CODE": "55073-1234"
          }
      - $ref: '#/components/parameters/withRawQueryParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzAttributeSearchResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzAttributeSearchResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzAttributeSearchResponse'
        '400':
          description: >-
              If the specified attrs parameter is missing or is not formatted
              properly.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '500':
          $ref: '#/components/responses/ServerError'
  /entity-paths:
    get:
      tags:
        - Entity Graph
      summary: >-
        Finds a path between two entities identified by entity ID or by
        data sources and record IDs of constituent records.  You may provide
        entity IDs or data source and record IDs to identify the from/to
        entities in the path, but you may not mix and match.
      operationId: findPathByEntityID
      parameters:
      - name: from
        description: >-
          The EntityIdentifier for the first entity for the path either as an
          entity ID or an encoded SzRecordId for the constituent record.
          Whatever format is used for the "from" parameter must match the
          format of the "to" parameter.  NOTE: An encoded SzRecordId can EITHER
          be encoded as JSON or as a delimited string where the first character
          is the delimiter and the remainder is parsed as a data source prefix
          (up to the second occurrence of the delimiter) and a record ID suffix
          (all characters after the second occurrence of the delimiter).  For
          example: `{"src":"PEOPLE","id":"12345ABC"}` or `:PEOPLE:12345ABC`.
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/SzEntityIdentifier'
      - name: to
        description: >-
          The EntityIdentifier for the last entity for the path either as an
          entity ID or a encoded SzRecordId for the constituent record.
          Whatever format is used for the "to" parameter must match the
          format of the "from" parameter.  NOTE: An encoded SzRecordId can
          EITHER be encoded as JSON or as a delimited string where the first
          character is the delimiter and the remainder is parsed as a data
          source prefix (up to the second occurrence of the delimiter) and a
          record ID suffix (all characters after the second occurrence of the
          delimiter).  For example: `{"src":"PEOPLE","id":"12345ABC"}` or
          `:PEOPLE:12345ABC`.
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/SzEntityIdentifier'
      - name: maxDegrees
        description: >-
            The maximum number of degrees to look for a path from the first
            entity to the last entity.
        in: query
        required: false
        schema:
          type: integer
          format: int8
          minimum: 0
          maximum: 100
          default: 3
      - name: x
        description: >-
          Repeating query parameter containing EntityIdentifier definitions
          that identify entities to be avoided or forbidden from the path
          (depending on the forbidAvoided parameter).  The entity identifiers
          are either all 64-bit long integers representing entity IDs or they
          are all encoded SzRecordId instances identifying records that are
          part of the resolved entities to exclude.  If this parameter is not
          provided, then the default is to NOT exclude any entities.  If both
          this parameter and the `avoidEntities` parameter are specified then
          the values are merged.  NOTE: An encoded SzRecordId can EITHER be encoded
          as JSON or as a delimited string where the first character is the
          delimiter and the remainder is parsed as a data source prefix (up to
          the second occurrence of the delimiter) and a record ID suffix (all
          characters after the second occurrence of the delimiter).  For
          example: `{"src":"PEOPLE","id":"12345ABC"}` or `:PEOPLE:12345ABC`.
        in: query
        required: false
        schema:
          $ref: '#/components/schemas/SzEntityIdentifier'
      - name: avoidEntities
        description: >-
          Single query parameter containing multiple EntityIdentifier
          definitions as a JSON array or a simple comma-separated array that
          identify entities to be avoided or forbidden from the path
          (depending on the forbidAvoided parameter).  The entity identifiers
          are either all 64-bit long integers representing entity IDs or they
          are all encoded SzRecordId instances identifying records that are
          part of the resolved entities to exclude.  At least one entity
          identifier is required.  If both this parameter and one or more `x`
          parameters are specified then the values are merged.  NOTE: An
          encoded SzRecordId can EITHER be encoded as JSON or as a delimited
          string where the first character is the delimiter and the remainder
          is parsed as a data source prefix (up to the second occurrence of the
          delimiter) and a record ID suffix (all characters after the second
          occurrence of the delimiter).  For example:
          `{"src":"PEOPLE","id":"12345ABC"}` or `:PEOPLE:12345ABC`.
        in: query
        required: false
        schema:
          $ref: '#/components/schemas/SzEntityIdentifiers'
      - name: forbidAvoided
        description: >-
          If the avoidEntities parameter is provided then this flag is used to
          control whether or not to forbid the avoided entities rather than
          include them in the path as a "last resort".
        in: query
        required: false
        schema:
          type: boolean
          default: false
      - name: s
        description: >-
          The multi-valued query parameter where each value is a data source
          code identifying data sources for which one must be included in the
          entities for the path.  If not provided, then the default is to NOT
          require any specific data sources.
        in: query
        required: false
        schema:
          type: array
          items:
            type: string
      - $ref: '#/components/parameters/withRawQueryParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzEntityPathResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzEntityPathResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzEntityPathResponse'
        '400':
          description: >-
            If the 'from' or 'to' parameters are missing or if any of the
            parameters are not formatted as expected.  Also, if any of the
            identified entities or records cannot be found.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '500':
          $ref: '#/components/responses/ServerError'
  /entity-networks:
    get:
      tags:
        - Entity Graph
      summary: >-
        Finds the entity network around one or more entities identified by
        their entity IDs or by the data source codes and record ID's of their
        constituent records.  This attempts to find paths between the specified
        entities.  If no paths exist, then island networks are returned
        with each island network containing up to a specified number of
        related entities.
      operationId: findNetworkByEntityID
      parameters:
      - name: e
        description: >-
          Repeating query parameter containing EntityIdentifier definitions
          that identify entities to be included in the entity network.  The
          entity identifiers are either all 64-bit long integers representing
          entity IDs or they are all encoded SzRecordId instances identifying
          records that are part of the resolved entities to avoid.  At least
          one entity identifier is required.  If both this parameter and the
          `entities` parameter are specified then the values are merged.
          NOTE: An encoded SzRecordId can EITHER be encoded as JSON or as a
          delimited string where the first character is the delimiter and the
          remainder is parsed as a data source prefix (up to the second
          occurrence of the delimiter) and a record ID suffix (all characters
          after the second occurrence of the delimiter).  For example:
          `{"src":"PEOPLE","id":"12345ABC"}` or `:PEOPLE:12345ABC`.
        in: query
        required: false
        schema:
          $ref: '#/components/schemas/SzEntityIdentifier'
      - name: entities
        description: >-
          Single query parameter containing multiple EntityIdentifier
          definitions that identify entities to be included in the entity
          network as a JSON array or a simple comma-separated array.  The
          entity identifiers are either all 64-bit long integers representing
          entity IDs or they are all encoded SzRecordId instances identifying
          records that are part of the resolved entities to avoid.  At least
          one entity identifier is required.  If both this parameter and one
          or more `e` parameters are specified then the values are merged.
          NOTE: An encoded SzRecordId can EITHER be encoded as JSON or as a
          delimited string where the first character is the delimiter and the
          remainder is parsed as a data source prefix (up to the second
          occurrence of the delimiter) and a record ID suffix (all characters
          after the second occurrence of the delimiter).  For example:
          `{"src":"PEOPLE","id":"12345ABC"}` or `:PEOPLE:12345ABC`.
        in: query
        required: false
        schema:
          $ref: '#/components/schemas/SzEntityIdentifiers'
      - name: maxDegrees
        description: >-
            The maximum number of degrees to look for a path between the
            specified entities.
        in: query
        required: false
        schema:
          type: integer
          format: int8
          minimum: 0
          maximum: 100
          default: 5
      - name: buildOut
        description: >-
            The maximum number of degrees to build out around each of the
            specified entities regardless of those entities being on the
            path between entities.
        in: query
        required: false
        schema:
          type: integer
          format: int8
          minimum: 0
          maximum: 100
          default: 1
      - name: maxEntities
        description: >-
            The maximum number of entities to return to prevent responses
            that are too large.
        in: query
        required: false
        schema:
          type: integer
          format: int32
          minimum: 0
          default: 1000
      - $ref: '#/components/parameters/withRawQueryParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzEntityNetworkResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzEntityNetworkResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzEntityNetworkResponse'
        '400':
          description: >-
            If the 'e' entity identifiers parameter is missing or if any of the
            parameters are not formatted as expected.  Also, if any of the
            identified entities or records cannot be found.
          content:
            application/json; charset=UTF-8:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
            default:
              schema:
                $ref: '#/components/schemas/SzErrorResponse'
        '500':
          $ref: '#/components/responses/ServerError'
components:
  parameters:
    withRawQueryParam:
      in: query
      name: withRaw
      required: false
      description: >-
        Whether or not to include the raw JSON response from the underlying
        native API.  This raw response may include additional details but
        lack some of the abstraction the standard response provides.  If
        true, then the 'rawData' field in the response will be a non-null
        value and contain the additional details.
      schema:
        type: boolean
        default: false
    withRelatedQueryParam:
      in: query
      name: withRelated
      required: false
      description: >-
        Whether or not to pull the complete features and records for
        first-degree related entities (i.e.: the RelatedEntity instances
        will have the "partial" flag set to true rather than false).  If
        false, then all returned RelatedEntity instances will only contain
        partial data (the default).
      schema:
        type: boolean
        default: false
    dataSourceCodePathParam:
      in: path
      name: dataSourceCode
      required: true
      description: >-
        The data source code identifying the data source with which
        the requested record is associated.
      schema:
        type: string
    recordIdPathParam:
      in: path
      name: recordId
      required: true
      description: >-
        The identifier that uniquely identifies the requested record
        within a given data source.  This may have been specified
        when the record was loaded or generated automatically.
      schema:
        type: string
  responses:
    ServerError:
      description: Unexpected server error occurred.
      content:
        application/json; charset=UTF-8:
          schema:
            $ref: '#/components/schemas/SzErrorResponse'
        application/json:
          schema:
            $ref: '#/components/schemas/SzErrorResponse'
        default:
          schema:
            $ref: '#/components/schemas/SzErrorResponse'
  schemas:
    SzBaseResponse:
      description: >-
        Represents the base information included in all responses sans the
        actual data for the response.
      type: object
      properties:
        meta:
          type: object
          properties:
            httpMethod:
              type: string
              enum:
                - GET
                - POST
                - PUT
                - PATCH
                - DELETE
            httpStatusCode:
              type: integer
              format: int16
            timestamp:
              type: string
              format: date-time
        links:
          type: object
          properties:
            self:
              type: string
    SzErrorResponse:
      allOf:
        - $ref: '#/components/schemas/SzBaseResponse'
        - type: object
          properties:
            errors:
              type: array
              items:
                $ref: '#/components/schemas/SzError'
    SzResponseWithRawData:
      description: >-
        Extends the BaseResponse to add the rawData field.
      allOf:
        - $ref: '#/components/schemas/SzBaseResponse'
        - type: object
          properties:
            rawData:
              description: >-
                The RAW result from the underlying native API function.
              type: object
              nullable: true
              additionalProperties: {}
    SzLicenseResponse:
      allOf:
        - $ref: '#/components/schemas/SzResponseWithRawData'
        - type: object
          properties:
            data:
              type: object
              properties:
                license:
                  $ref: '#/components/schemas/SzLicenseInfo'
    SzAttributeTypesResponse:
      allOf:
        - $ref: '#/components/schemas/SzResponseWithRawData'
        - type: object
          properties:
            data:
              type: object
              properties:
                attributeTypes:
                  description: >-
                    The list of attribute types.
                  type: array
                  items:
                    $ref: '#/components/schemas/SzAttributeType'
    SzAttributeTypeResponse:
      allOf:
        - $ref: '#/components/schemas/SzResponseWithRawData'
        - type: object
          properties:
            data:
              type: object
              properties:
                attributeType:
                  $ref: '#/components/schemas/SzAttributeType'
    SzDataSourcesResponse:
      allOf:
        - $ref: '#/components/schemas/SzResponseWithRawData'
        - type: object
          properties:
            data:
              type: object
              properties:
                dataSources:
                  description: >-
                    The list of data source codes that are configured.
                  type: array
                  items:
                    type: string
    SzLoadRecordResponse:
      allOf:
        - $ref: '#/components/schemas/SzBaseResponse'
        - type: object
          properties:
            data:
              type: object
              properties:
                recordId:
                  description: >-
                    The record ID of the record that was loaded.
                  type: string
    SzRecordResponse:
      allOf:
        - $ref: '#/components/schemas/SzResponseWithRawData'
        - type: object
          properties:
            data:
              type: object
              properties:
                record:
                  description: >-
                    The EntityRecord describing the matching record.
                  $ref: '#/components/schemas/SzEntityRecord'
    SzEntityResponse:
      allOf:
        - $ref: '#/components/schemas/SzResponseWithRawData'
        - type: object
          properties:
            data:
              $ref: '#/components/schemas/SzEntityData'
    SzAttributeSearchResponse:
      allOf:
        - $ref: '#/components/schemas/SzResponseWithRawData'
        - type: object
          properties:
            data:
              type: object
              properties:
                searchResults:
                  description: >-
                    The array AttributeSearchResult instances describing the
                    entities matching the specified entity search attributes
                    including the AttributeSearchResultType for each.
                  type: array
                  items:
                    $ref: '#/components/schemas/SzAttributeSearchResult'
    SzEntityPathResponse:
      allOf:
        - $ref: '#/components/schemas/SzResponseWithRawData'
        - type: object
          properties:
            data:
              $ref: '#/components/schemas/SzEntityPathData'
    SzEntityNetworkResponse:
      allOf:
        - $ref: '#/components/schemas/SzResponseWithRawData'
        - type: object
          properties:
            data:
              $ref: '#/components/schemas/SzEntityNetworkData'
    SzError:
      description: >-
        Describes an error.
      type: object
      properties:
        code:
          description: The internal error code.
          type: string
          nullable: true
        message:
          description: The message describing the error.
          type: string
    SzAttributeClass:
      description: >-
        Enumerates the various classes of attribute types (and features).
        This is a generalization over attribute type that is more general
        than feature type (NOTE: stand-alone attribute types such as
        "DATA_SOURCE" or "RECORD_ID" do not have a feature type, but do have
        an attribute class of "OBSERVATION").  Attribute class determines how
        attributes / features are grouped together (e.g.: "nameData" contains
        all name features and "identifierData" contains all identifier
        features).  The possible values are:
          * `ADDRESS` - Attributes pertaining to an address such as "POSTAL_CODE"
          * `CHARACTERISTIC` - Attributes pertaining to physical characteristics
                               of an entity.  Such as "BIRTH_DATE"
          * `IDENTIFIER` - Attributes pertaining to identifiers such as
                          drivers license number, passport number, or email
                          address.
          * `NAME` - Attributes pertaing to names such as "NAME_FIRST" or
                     "NAME_LAST"
          * `OBSERVATION` - Attributes pertaining to meta-data about the
                            observation (record) such as "RECORD_ID" or
                            "DATA_SOURCE"
          * `PHONE` - Attributes pertaining to phone numbers such
                      "PHONE_NUMBER" or "PHONE_EXTENSION"
          * `RELATIONSHIP` - Attributes pertaining to relationships such as
                             "RELATIONSHIP_TYPE".
          * `OTHER` - An attribute class for custom features or for attributes
                      that are loaded but not mapped.
      type: string
      enum:
        - ADDRESS
        - CHARACTERISTIC
        - IDENTIFIER
        - NAME
        - OBSERVATION
        - PHONE
        - RELATIONSHIP
        - OTHER
    SzAttributeNecessity:
      description: >-
        Describes the necessity for this attribute type within the
        feature type.  Possible values are:
          * `REQUIRED` - The attribute for the attribute type must be
                         provided whenever the feature is provided (e.g.:
                         "PASSPORT_NUMBER" is required with the "PASSPORT"
                         feature).
          * `SUFFICIENT` - If no attributes for `REQUIRED` attribute types
                           are provided for the feature, then at least one
                           marked `SUFFICIENT` must be provided (e.g.:
                           "NAME_FULL" or "NAME_ORG" for the "NAME" feature)
          * `PREFERRED` - Attributes of `PREFERRED` attribute types are
                          optional, but providing them greatly enhances
                          accuracy for scoring and matching purposes (e.g.:
                          a "PASSPORT_COUNTRY" for "PASSPORT" feature)
          * `OPTIONAL` - Attributes of `OPTIONAL` attribute types are
                         optional and do not significantly affect accuracy
                         for scoring and matching purposes, but do provide
                         additional information (e.g.: "PASSPORT_ISSUE_DT"
                         for the "PASSPORT" feature)
      type: string
      enum:
        - REQUIRED
        - SUFFICIENT
        - PREFERRED
        - OPTIONAL
    SzAttributeType:
      description: >-
        Describes an attribute type that partially (or fully) describes a
        feature of an entity that may be loaded as part of a record or
        used as criteria in a search.
      type: object
      properties:
        attributeCode:
          description: >-
            The unique string that identifies the attribute type among all
            other attribute types.
          type: string
          nullable: false
        defaultValue:
          description: >-
            The default value assumed for the attribute when it is not
            provided but is required as part of a feature.
          type: string
          nullable: true
        necessity:
          $ref: '#/components/schemas/SzAttributeNecessity'
        attributeClass:
          $ref: '#/components/schemas/SzAttributeClass'
        featureType:
          description: >-
            Identifiers the feature type that this attribute type is an
            attribute of (if any).  For example, the "NAME_FIRST" attribute type
            would be an attribute of the "NAME" feature type and
            "PASSPORT_COUNTRY" would be an attribute of "PASSPORT" feature type.
            Some (advanced) attribute types are stand-alone and do not belong
            to a feature (e.g.: "RECORD_ID").
          type: string
          nullable: true
        advanced:
          description: >-
            Indicates if the attribute type is considered to be "advanced".
            Advanced attribute types usually require the user to have some
            knowledge of how the data is mapped in the entity repository
            (e.g.: "RECORD_ID" or "DATA_SOURCE").  An application may exclude
            displaying these as options if these things are being auto-generated
            or automatically selected for the user.  You may want to contact
            Senzing support before leveraging advanced attribute types in your
            application.
          type: boolean
          nullable: false
        internal:
          description: >-
            Whether or not an attribute type is typically generated internally
            based on other attribute types.  These are not commonly used by the
            user except in some rare cases.  Examples include pre-hashed
            versions of attributes that are hashed.
          type: boolean
          nullable: false
    SzEntityIdentifier:
      description: >-
        Identifies an entity by either its entity ID or by the data source
        code and record ID of one of its constituent records.
      oneOf:
        - type: integer
          format: int64
        - $ref: '#/components/schemas/SzRecordId'
    SzEntityIdentifiers:
      description: >-
        Identifies zero or more entities by either its entity ID or by the
        data source code and record ID of one of their constituent records.
        Identifiers in the array are homogeneous, either all entity IDs or
        all RecordId instances containing the data-source-code/record-id pair.
      oneOf:
      - type: array
        items:
          type: integer
          format: int64
      - type: array
        items:
          $ref: '#/components/schemas/SzRecordId'
    SzRecordId:
      description: >-
        Identifies a record by its data source code and record identifier.
        This abbreviated format is used in query parameters to identify
        records via JSON strings.
      type: object
      properties:
        src:
          description: >-
            The data source code that uniquely identifies the data source
            associated with the record.
          type: string
        id:
          description: >-
            The record ID that uniquely identifies a record within the
            respective data source.
          type: string
    SzLicenseInfo:
      description: >-
        Describes the Senzing product license.
      type: object
      properties:
        customer:
          type: string
          description: >-
            The customer information associated with the license.
        contract:
          type: string
          description: >-
            The contract information associated with the license.
        licenseType:
          type: string
          description: >-
            The description of the type of license.
        licenseLevel:
          type: string
          description: >-
            The description of the license level.
        billing:
          type: string
          description: >-
            The billing information associated with the license
        issuanceDate:
          type: string
          format: date-time
          description: >-
            The issuance date for the license.
        expirationDate:
          type: string
          format: date-time
          description: >-
            The expiration date for the license.
        recordLimit:
          type: integer
          format: int64
          description: >-
            The record limit associated with the license.
    SzEntityRecord:
      description: >-
        Describes a record (aka: observed entity) that has been loaded for
        a particular data source.
      type: object
      properties:
        dataSource:
          type: string
          description: >-
            The data source code identifying the source from which the record
            was loaded.
        recordId:
          type: string
          description: >-
            The identifier that uniquely identifies this record from other
            records from the same data source.  This may have been loaded with
            the record or automatically generated from the record's data.
        addressData:
          description: >-
            An array of addresses associated with the record that are formatted
            for readability.  These may be prefixed by a "usage type" if one
            was provided (e.g.: "HOME: 101 Main Street")
          type: array
          items:
            type: string
        characteristicData:
          description: >-
            An array of characteristics associated with the record that are
            formatted for readability.  These will be prefixed by a
            characteristic type and optionally by a "usage type" if one was
            provided.
          type: array
          items:
            type: string
        identifierData:
          description: >-
            An array of entity data associated with the record where the items
            are formatted for readability.  These will be prefixed by an
            identifier type and may be prefixed by a "usage type" if one was
            provided (e.g.: "ID: 123456789" or "EMAIL: WORK: joe@nowhere.com")
          type: array
          items:
            type: string
        nameData:
          description: >-
            An array of names associated with the record that are formatted for
            readability.  These may be prefixed by a "usage type" if one was
            provided (e.g.: "Joe Schmoe" or "AKA: Joseph P. Schmoe")
          type: array
          items:
            type: string
        phoneData:
          description: >-
            An array of phone numbers associated with the record that are
            formatted for readability.  These may be prefixed by a "usage type"
            if one was provided (e.g.: "HOME: 702-555-1212")
          type: array
          items:
            type: string
        relationshipData:
          description: >-
            An array of relationship data items associated with the record that
            describes disclosed relationships.
          type: array
          items:
            type: string
        otherData:
          description: >-
            An array of associated data items that were loaded with the record
            but not normally recognized or used for entity resolution.  This
            array usually contains useful information from the source system.
          type: array
          items:
            type: string
        originalSourceData:
          description: >-
            The JSON representation of the original data record that was
            loaded.
          type: object
          additionalProperties: {}
    SzDataSourceRecordSummary:
      description: >-
        Describes the number of records associated with a specific data source
        for a given resolved entity.  Optionally, if the complete set of records
        has been retrieved for the associated entity, then this may also contain
        the "top 10" record IDs for the associated data source.
      type: object
      properties:
        dataSource:
          description: >-
            The data source code identifying the data source for which the
            record breakdown is being described.
          type: string
        recordCount:
          description: >-
            The number of records from the respective data source that are
            part of the associated resolved entity.
          type: integer
          format: int32
        topRecordIds:
          description: >-
            The optional array of string record ID's identifying the top 10
            records for the associated entity from the respective data source.
            This may be null or an empty array if the data was not available.
          type: array
          nullable: true
          items:
            type: string
    SzEntityFeature:
      description: >-
        Describes a feature for an entity as well as including any close values
        for the feature that were considered to be duplicate values for
        entity resolution purposes.
      type: object
      properties:
        primaryValue:
          type: string
        usageType:
          description: >-
            The optional associated usage type (e.g.: "HOME" or "WORK")
          type: string
          nullable: true
        duplicateValues:
          description: >-
            The array of values that are close enough to the primary value
            for the feature that they are considered to be duplicate values for
            the purpose of entity resolution.
          type: array
          items:
            type: string
    SzResolvedEntity:
      description: >-
        Describes a resolved entity that is made up of one or more EntityRecord
        instances.
      type: object
      properties:
        entityId:
          description: >-
            The unique numeric ID identifying the entity.
          type: integer
          format: int64
        entityName:
          description: >-
            The name associated with this entity that is considered the
            best name among all the associated names.
          type: string
        bestName:
          description: >-
            Usually the same as the entityName property, but this may differ
            if the entity was found based on a name search.  In such a case,
            this field represents the name that most closely matches the name
            that was searched on.
          type: string
        recordSummaries:
          description: >-
            The array of DataSourceRecordSummary instances describing the
            number of records associated with each data source that contributes
            to this entity.
          type: array
          items:
            $ref: '#/components/schemas/SzDataSourceRecordSummary'
        nameData:
          description: >-
            An array of names associated with the entity that are formatted for
            readability.  These may be prefixed by a "usage type" if one was
            provided (e.g.: "Joe Schmoe" or "AKA: Joseph P. Schmoe")
          type: array
          items:
            type: string
        characteristicData:
          description: >-
            An array of characteristiics associated with the entity that are
            formatted for readability.  These will be prefixed by a
            characteristic type and optionally by a "usage type" if one was
            provided.
          type: array
          items:
            type: string
        addressData:
          description: >-
            An array of addresses associated with the entity that are formatted
            for readability.  These may be prefixed by a "usage type" if one
            was provided (e.g.: "HOME: 101 Main Street")
          type: array
          items:
            type: string
        phoneData:
          description: >-
            An array of phone numbers associated with the entity that are
            formatted for readability.  These may be prefixed by a "usage type"
            if one was provided (e.g.: "HOME: 702-555-1212")
          type: array
          items:
            type: string
        identifierData:
          description: >-
            An array of entity data associated with the record where the items
            are formatted for readability.  These will be prefixed by an
            identifier type and may be prefixed by a "usage type" if one was
            provided (e.g.: "ID: 123456789" or "EMAIL: WORK: joe@nowhere.com")
          type: array
          items:
            type: string
        records:
          description: >-
            The array of EntityRecord instances describing the records
            associated with this entity.
          type: array
          items:
            $ref: '#/components/schemas/SzEntityRecord'
        features:
          description: >-
            The map of string feature names to arrays of EntityFeature instances
            describing the values associated with each respective feature name.
          type: object
          additionalProperties:
            type: array
            items:
              $ref: '#/components/schemas/SzEntityFeature'
    SzBaseRelatedEntity:
      description: >-
        Provides the additional fields to a ResolvedEntity that describe
        an entity's relationship to another.  This serves as a basis for
        AttributeSearchResult and RelatedEntity.
      allOf:
        - $ref: '#/components/schemas/SzResolvedEntity'
        - type: object
          properties:
            matchLevel:
              description: >-
                The integer "match level" describing how the related entity
                matched to the primary resolved entity.
              type: integer
              format: int32
            fullNameScore:
              description: >-
                The full name score between the primary resolved entity and
                this related entity.  The higher the score the closer the
                name match.
              type: integer
              format: int32
            matchScore:
              description: >-
                The match score between the primary resolved entity and
                this related entity.  The higher the score the closer
                the match.
              type: integer
              format: int32
            disclosed:
              description: >-
                A boolean flag indicating if this related entity
                represents a disclosed relationship.
              type: boolean
            ambiguous:
              description: >-
                A boolean flag indicating if this related entity
                represents an ambiguous relationship.
              type: boolean
            matchKey:
              description: >-
                The match key describing what features matched between
                the primary resolved entity and the related entity.
              type: string
            resolutionRuleCode:
              description: >-
                The code identifying the resolution rule that related
                this entity to the primary resolved entity.
              type: string
            refScore:
              description: >-
                The ref score between the primary resolved entity and
                this related entity.
              type: integer
              format: int32
            partial:
              description: >-
                If true then this RelatedEntity has complete features and
                records, otherwise they are not provided.  Also, the
                recordSummary items will be missing the topRecordIds if partial
                is true.
              type: boolean
    SzRelationshipType:
      description: >-
        Describes how an entity is related to another (either a possible match,
        a discovered possible relationship or a disclosed relationship)
      type: string
      enum:
        - POSSIBLE_MATCH
        - POSSIBLE_RELATION
        - DISCLOSED_RELATION
    SzRelatedEntity:
      description: >-
        Provides a description of an entity that is related to a
        ResolvedEntity.  This describes how the entity is related and may
        be missing the complete features and record list of a ResolvedEntity.
      allOf:
        - type: object
          properties:
            relationType:
              $ref: '#/components/schemas/SzRelationshipType'
        - $ref: '#/components/schemas/SzBaseRelatedEntity'
    SzEntityData:
      description: >-
        Describes an entity and the entities related to that entity at
        one degree of separation.
      type: object
      properties:
        resolvedEntity:
          description: The ResolvedEntity describing the primary entity.
          $ref: '#/components/schemas/SzResolvedEntity'
        relatedEntities:
          description: >-
            The array of RelatedEntity instances describing the possible
            matches, discovered relationships, and disclosed relationships.
          type: array
          items:
            $ref: '#/components/schemas/SzRelatedEntity'
    SzAttributeSearchResultType:
      description: >-
        Describes how the entity matching the search attributes would have
        entity resolved against those attributes (either a match, possible
        match, discovered relationship or name only match).
      type: string
      enum:
        - MATCH
        - POSSIBLE_MATCH
        - POSSIBLE_RELATION
        - NAME_ONLY_MATCH
    SzAttributeSearchResult:
      description: >-
        Describes an entity that matched attribute search criteria and how
        it matched against that criteria.
      allOf:
        - type: object
          properties:
            resultType:
              $ref: '#/components/schemas/SzAttributeSearchResultType'
        - $ref: '#/components/schemas/SzBaseRelatedEntity'
    SzEntityPath:
      description: >-
        Describes a path between two entities using the entity IDs of the
        entities in the path.
      type: object
      properties:
        startEntityId:
          description: The starting entity ID for the path.
          nullable: false
          type: integer
          format: int64
        endEntityId:
          description: The ending entity ID for the path.
          nullable: false
          type: integer
          format: int64
        entityIDs:
          description: >-
            The array of entity IDs identifying the entities on the path
            in order of how are they are connected on the path.  This is
            null if there is no path between the entities.
          nullable: true
          type: array
          items:
            type: integer
            format: int64
    SzEntityPathData:
      description: >-
        Describes a path between two entities using the entity IDs of the
        entities in the path and includes the data from the actual entities
        on the path.
      type: object
      properties:
        entityPath:
          $ref: '#/components/schemas/SzEntityPath'
        entities:
          description: >-
            The array of EntityData objects describing the entities on the
            path.  This will include partial information on the first-degree
            related entities to the entity.
          type: array
          items:
            $ref: '#/components/schemas/SzEntityData'
    SzEntityNetworkData:
      description: >-
        Describes a network of paths between entities using the entity IDs of
        the entities in the path and includes the data from the actual entities
        in the network.
      type: object
      properties:
        entityPaths:
          description: >-
            The array of EntityPath objects describing the paths that make up
            the entity network (including island networks).
          type: array
          items:
            $ref: '#/components/schemas/SzEntityPath'
        entities:
          description: >-
            The array of EntityData objects describing the entities on the
            path.  This may only include partial information on the entities at
            the edge of the network.
          type: array
          items:
            $ref: '#/components/schemas/SzEntityData'
tags:
  - name: Admin
    description: Administrative operations.
  - name: Config
    description: Configuration operations.
  - name: Entity Data
    description: Entity and record data operations.
  - name: Entity Graph
    description: Entity relationship connections for graphing.

